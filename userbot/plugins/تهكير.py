import asyncio

from userbot import iqthon

from ..core.managers import edit_or_reply
from ..helpers.utils import _format
from . import ALIVE_NAME

plugin_category = "fun"


@iqthon.iq_cmd(
    pattern="ØªÙ‡ÙƒÙŠØ±$",
    command=("ØªÙ‡ÙƒÙŠØ±", plugin_category),
    info={
        "header": "Fun hack animation.",
        "description": "Reply to user to show hack animation",
        "note": "This is just for fun. Not real hacking.",
        "usage": "{tr}hack",
    },
)
async def _(event):
    "Fun hack animation."
    if event.reply_to_msg_id:
        reply_message = await event.get_reply_message()
        idd = reply_message.sender_id
        if idd == 1226408155:
            await edit_or_reply(
                event, "**âŒ”ï¸™ Ø¹Ù€Ø°Ø±Ø§ Ø£Ù†Ù€Ø© Ù…Ø¨Ù€Ø±Ù…Ø¬ Ø§Ù„Ø³Ù€ÙˆØ±Ø³ Ù„Ø§ÙŠÙ€Ù…ÙƒÙ† ØªÙ‡ÙƒÙŠÙ€Ø±Ø©. âšœï¸**"
            )
        else:
            event = await edit_or_reply(event, "**âŒ”ï¸™ Ø¬Ù€Ø§Ø±ÙŠ Ø§Ù„ØªÙ€Ù‡ÙƒÙŠØ± âš ï¸**")
            animation_chars = [
                "**âŒ”ï¸™ Ø¬Ù€Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµÙ€Ø§Ù„ Ø¨Ø¬Ù‡Ù€Ø§Ø² Ø§Ù„Ø¶Ø­Ù€ÙŠØ© Ù„Ø£Ø®ØªÙ€Ø±Ø§Ù‚Ù€Ø©  ğŸ“³**",
                "**âŒ”ï¸™ Ø£Ø®ØªÙ€Ø±Ø§Ù‚ Ø¬Ù‡Ù€Ø§Ø² Ø§Ù„Ø¶Ø­Ù€ÙŠØ© Ø§Ù„Ù‡Ù€Ø¯Ø¯Ù Ù…Ø­Ù€Ø¯Ø¯ Ø¬Ù€Ø§Ø±ÙŠ Ø£Ø®ØªÙ€Ø±Ø§Ù‚Ù€Ø© ãŠ™ï¸**",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 0%**\nâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 4%**\nâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ ..10%**\nâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 20%**\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 36%**\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 52%**\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 84%**\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’ `",
                "**âŒ”ï¸™ ØªØ­Ù€Ù…ÙŠÙ„ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚  ãŠ™ï¸ .. 100%**\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ`",
                f"**âŒ”ï¸™ ØªÙ€Ù… Ø§Ø®Ù€ØªØ±Ø§Ù‚ Ø§Ù„Ø¶Ø­Ù€ÙŠØ© ğŸ†˜ Ø§Ù„ÙÙ€Ø¯ÙŠÙ€Ø© Ù„Ø£Ù„ØºÙ€Ø§Ø¡ Ø§Ù„Ø§Ø®Ù€ØªØ±Ø§Ù‚ ØªØ´Ù€Ø±ÙŠØ¨ Ø¨Ø§Ù„Ù€Ø­Ù… Ù„Ù€ Ø§Ù„Ø³ÙŠÙ€Ø¯ ğŸ™‚ : `{ALIVE_NAME}` . Ø¨Ù€Ø¯ÙˆÙ† ØªÙ†Ù€Ø§Ø²Ù„**",
            ]
            animation_interval = 3
            animation_ttl = range(11)
            for i in animation_ttl:
                await asyncio.sleep(animation_interval)
                await event.edit(animation_chars[i % 11])
    else:
        await edit_or_reply(
            event,
            "**âŒ”ï¸™ Ù„Ù… ÙŠØªÙ… ØªØ¹Ø±ÙŠÙ Ø£ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù‚Ù… Ø¨Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¶Ø­ÙŠØ©**",
            parse_mode=_format.parse_pre,
        )
